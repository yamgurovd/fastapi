# Асинхронность: Теория и Практика

Асинхронность в Python позволяет выполнять задачи одновременно, что повышает производительность при работе с операциями
ввода-вывода, такими как обращения к базе данных, сетевые запросы и чтение/запись файлов. В синхронных программах задачи
выполняются последовательно, каждая из них блокирует выполнение остальных. Асинхронный подход, напротив, позволяет "
ожидать" завершения одной задачи, продолжая при этом выполнять другие.

## async/await

Ключевые слова async и await используются для работы с асинхронными функциями. Функция, объявленная с помощью async,
может включать операторы await, которые приостанавливают выполнение функции до завершения ожидаемой задачи (например,
сетевой запрос). Асинхронные функции не блокируют основной поток программы, что позволяет эффективно использовать
ресурсы системы.

## asyncio.gather

asyncio.gather — это полезная функция для выполнения нескольких асинхронных задач параллельно. Она принимает список
корутин (асинхронных функций) и возвращает результат выполнения всех этих функций. Это удобно, когда необходимо
выполнять несколько задач, не дожидаясь завершения каждой по отдельности.

Пример использования:

```python
import asyncio
import time


# Синхронная функция
def get_data_from_database(query: str):
    print(f"Получен запрос: {query}")
    if query == "Сочи":
        time.sleep(4)
    elif query == "Дубай":
        time.sleep(2)
    print(f"Данные получены: {query}")


# Асинхронная функция
async def get_data_from_database_async(query: str):
    print(f"Получен запрос: {query}")
    if query == "Сочи":
        await asyncio.sleep(4)
    elif query == "Дубай":
        await asyncio.sleep(2)
    print(f"Данные получены: {query}")
    return "Results"


# Пример асинхронного вызова с использованием asyncio.gather
async def main():
    tasks = [
        get_data_from_database_async("Сочи"),
        get_data_from_database_async("Дубай")
    ]
    results = await asyncio.gather(*tasks)
    print("Все данные получены:", results)


# Запуск программы
asyncio.run(main())
```

В этом примере вместо последовательного выполнения запросов с использованием синхронной функции get_data_from_database,
асинхронная функция get_data_from_database_async позволяет запрашивать данные одновременно. Использование asyncio.gather
позволяет запускать оба запроса параллельно, что значительно сокращает общее время выполнения программы.
